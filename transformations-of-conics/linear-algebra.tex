\documentclass{article}
\usepackage{xfp}
\usepackage{tikz}
\usetikzlibrary{math}

\input{../tikzlibrarymc.code.tex}

\begin{document}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Normlization =====};
  \a{1,1} = 1; \a{1,2} = 2; \a{1,3} = 1;
  \a{2,1} = -1; \a{2,2} = -2; \a{2,3} = -1;
}

\tikzset{
  maxabs={\a,2,3,\max},
  normalize={\a,2,3,\b},
  show={\a,2,3},
  show={\b,2,3},
}

\tikzmath{
  print{max abs: \max};
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Transpose =====};
  \a{1,1} = 1; \a{1,2} = 2; \a{1,3} = 1;
  \a{2,1} = -1; \a{2,2} = -2; \a{2,3} = -1;
}

\tikzset{
  transpose={\a,2,3,\b},
  show={\a,2,3},
  show={\b,3,2},
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Matrix multiplication =====};
  \a{1,1} = 1; \a{1,2} = 2; \a{1,3} = 3;
  \b{1,1} = 4; \b{1,2} = 5; 
  \b{2,1} = 6; \b{2,2} = 7; 
  \b{3,1} = 8; \b{3,2} = 9; 
}

\tikzset{
  product={\a,\b,1,3,2,\c},
  show={\a,1,3},
  show={\b,3,2},
  show={\c,1,2},
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Determinant =====};
  \a{1,1} = 7; \a{1,2} = 5; \a{1,3} = 3; \a{1,4} = 0; 
  \a{2,1} = 2; \a{2,2} = 1; \a{2,3} = 6; \a{2,4} = 0; 
  \a{3,1} = 1; \a{3,2} = 2; \a{3,3} = 3; \a{3,4} = 0; 
  \a{4,1} = 0; \a{4,2} = 0; \a{4,3} = 1; \a{4,4} = 7;
}

\tikzset {
  det={\a,4,\det},
  show={\a,4,4},
}
\tikzmath {
  print{\ \\det(A):\det};% -378
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Minors =====};
  \a{1,1} = 4; \a{1,2} = 2; \a{1,3} = 3; 
  \a{2,1} = 4; \a{2,2} = 2; \a{2,3} = 6; 
  \a{3,1} = 7; \a{3,2} = 8; \a{3,3} = 9; 
}

\tikzset{
  show={\a,3,3},
  minors={\a,3,\minors},
  show={\minors,3,3},
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Cofactors =====};
  \a{1,1} = 4; \a{1,2} = 2; \a{1,3} = 3; 
  \a{2,1} = 4; \a{2,2} = 2; \a{2,3} = 6; 
  \a{3,1} = 7; \a{3,2} = 8; \a{3,3} = 9; 
}

\tikzset{
  show={\a,3,3},
  cofactors={\a,3,\cofactors},
  show={\cofactors,3,3},
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Linear Equations =====};
  \a{1,1} = 2; \a{1,2} = 1; \a{1,3} = 3; \a{1,4} = 4; 
  \a{2,1} = 1; \a{2,2} = -2; \a{2,3} = 2; \a{2,4} = 3; 
  \a{3,1} = 3; \a{3,2} = 4; \a{3,3} = -1; \a{3,4} = 2; 
  \a{4,1} = 4; \a{4,2} = 3; \a{4,3} = 2; \a{4,4} = 1;
  \b{1,1} = 16; \b{1,2} = 20;
  \b{2,1} = 19; \b{2,2} = 11;
  \b{3,1} = -1; \b{3,2} = -3;
  \b{4,1} = 4; \b{4,2} = 5;
}

\tikzset{
  solve={\a,\b,4,2,\c},
  show={\a,4,4},
  show={\b,4,2},
  show={\c,4,2},% 1,2,-1,3
}

\tikzmath{
  print{\ \\status:\status};
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Linear Equations =====};
  \a{1,1} = 2; \a{1,2} = 1; \a{1,3} = 3; \a{1,4} = 4; 
  \a{2,1} = 1; \a{2,2} = -2; \a{2,3} = 2; \a{2,4} = 3; 
  \a{3,1} = 0; \a{3,2} = 0; \a{3,3} = 0; \a{3,4} = 0; 
  \a{4,1} = 4; \a{4,2} = 3; \a{4,3} = 2; \a{4,4} = 1;
  \b{1,1} = 16; \b{1,2} = 20;
  \b{2,1} = 19; \b{2,2} = 11;
  \b{3,1} = -1; \b{3,2} = -3;
  \b{4,1} = 4; \b{4,2} = 5;
}

\tikzset{
  solve={\a,\b,4,2,\c},
  show={\a,4,4},
  show={\b,4,2},
  show={\c,4,2},% 
}

\tikzmath{
  print{\ \\status:\status};% failed
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Inverse =====};
  \a{1,1} = 2; \a{1,2} = 3; \a{1,3} = 4; \a{1,4} = 5; 
  \a{2,1} = 9; \a{2,2} = 3; \a{2,3} = 1; \a{2,4} = 2; 
  \a{3,1} = 4; \a{3,2} = 7; \a{3,3} = 6; \a{3,4} = 3; 
  \a{4,1} = 5; \a{4,2} = 9; \a{4,3} = 8; \a{4,4} = 7;
}

\tikzset{
  inverse={\a,4,\b},
  show={\a,4,4},
  show={\b,4,4},
}

\tikzmath{
  print{\ \\status:\status};
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Inverse =====};
  \a{1,1} = 0; \a{1,2} = 0; \a{1,3} = 0; \a{1,4} = 0; 
  \a{2,1} = 9; \a{2,2} = 3; \a{2,3} = 1; \a{2,4} = 2; 
  \a{3,1} = 4; \a{3,2} = 7; \a{3,3} = 6; \a{3,4} = 3; 
  \a{4,1} = 5; \a{4,2} = 9; \a{4,3} = 8; \a{4,4} = 7;
}

\tikzset{
  inverse={\a,4,\b},
  show={\a,4,4},
  show={\b,4,4},
}

\tikzmath{
  print{\ \\status:\status};%failed
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Eigenvalues and eigenvectors of a symetric matrix =====};
  \a{1,1} = 1; \a{1,2} = 1; \a{1,3} = 0.5;
  \a{2,1} = 1; \a{2,2} = 1; \a{2,3} = 0.25;
  \a{3,1} = 0.5; \a{3,2} = 0.25; \a{3,3} = 2;
}

\tikzset{
  jacobi={\a,3,\d,\v},
  show={\a,3,3},
  show={\d,3,3},
  show={\v,3,3},
}

\tikzmath{
  print{\ \\status:\status};
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Eigenvalues and eigenvectors of a symetric matrix =====};
  % override
  \JacobiMaxIter = 2;
  \a{1,1} = 1; \a{1,2} = 0; \a{1,3} = -1;
  \a{2,1} = 0; \a{2,2} = 1; \a{2,3} = -1;
  \a{3,1} = -1; \a{3,2} = -1; \a{3,3} = 1;
}

\tikzset{
  jacobi={\a,3,\d,\v},
  show={\a,3,3},
  show={\d,3,3},
  show={\v,3,3},
}

\tikzmath{
  print{\ \\status:\status};
  % use default 3*(n-1)^2
  \JacobiMaxIter = -1;
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Circle through 3 points =====};
  \x{1} = 1; \x{2} = 0; \x{3} = -1;
  \y{1} = 1; \y{2} = 1; \y{3} = 0;
  for \i in {1,2,3}{
    \a{\i,1} = (\x{\i})^2+(\y{\i})^2; 
    \a{\i,2} = \x{\i}; 
    \a{\i,3} = \y{\i};
    \a{\i,4} = 1.0;
  };
  % placeholder
  \a{4,1} = 0.0; \a{4,2} = 0.0; \a{4,3} = 0.0; \a{4,4} = 0.0;
}

\tikzset{
  cofactors={\a,4,\b},
  show={\a,4,4},
  show={\b,4,4},
}

\tikzmath {
  print{The circle equation is $A(x^2+y^2)+Bx+Cy+D=0$, \\};
  print{wherein, A = \b{4,1}, B = \b{4,2}, C = \b{4,3}, D = \b{4,4}.\\};
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Conic through 5 points =====};% xy=1
  \x{1} = 1; \x{2} = -1; \x{3} = 2; \x{4} = 0.5; \x{5} = -2;
  \y{1} = 1; \y{2} = -1; \y{3} = 0.5; \y{4} = 2; \y{5} = -0.5;
  int \i;
  for \i in {1,...,5}{
    \a{\i,1} = (\x{\i})^2;
    \a{\i,2} = \x{\i}*\y{\i};
    \a{\i,3} = (\y{\i})^2; 
    \a{\i,4} = \x{\i}; 
    \a{\i,5} = \y{\i};
    \a{\i,6} = 1.0;
  };
  % placeholder
  \a{6,1} = 0.0; \a{6,2} = 0.0; \a{6,3} = 0.0; 
  \a{6,4} = 0.0; \a{6,5} = 0.0; \a{6,6} = 0.0; 
}

\tikzset{
  cofactors={\a,6,\b},
  show={\a,6,6},
  show={\b,6,6},
}

\tikzmath {
  print{The circle equation is $Ax^2+Bxy+Cy^2+Dx+Ey+F=0$, \\};
  print{wherein, A = \b{6,1}, B = \b{6,2}, C = \b{6,3}, D = \b{6,4}, E = \b{6,5}, F = \b{6,6}.\\};
}

% -----------------------------------------------
\tikzmath{
  print{\ \\===== Conic tangent to 5 lines =====};% xy=1
  \u{1} = 1; \v{1} = 0; \w{1} = 0; 
  \u{2} = 1; \v{2} = 0; \w{2} = -2; 
  \u{3} = 0; \v{3} = 1; \w{3} = 0; 
  \u{4} = 0; \v{4} = 1; \w{4} = -2; 
  \u{5} = 1; \v{5} = 1; \w{5} = -2-sqrt(2); 
  int \i;
  for \i in {1,...,5}{
    \a{\i,1} = (\u{\i})^2;
    \a{\i,2} = \u{\i}*\v{\i};
    \a{\i,3} = (\v{\i})^2; 
    \a{\i,4} = \u{\i}*\w{\i}; 
    \a{\i,5} = \v{\i}*\w{\i};
    \a{\i,6} = (\w{\i})^2;
  };
  % placeholder
  \a{6,1} = 0.0; \a{6,2} = 0.0; \a{6,3} = 0.0; 
  \a{6,4} = 0.0; \a{6,5} = 0.0; \a{6,6} = 0.0; 
}

\tikzset{
  cofactors={\a,6,\b},
  show={\a,6,6},
  show={\b,6,6},
}

% dual conic
\tikzmath {
  \c{1,1} = \b{6,1};   \c{1,2} = \b{6,2}/2; \c{1,3} = \b{6,4}/2;
  \c{2,1} = \b{6,2}/2; \c{2,2} = \b{6,3};   \c{2,3} = \b{6,5}/2;
  \c{3,1} = \b{6,4}/2; \c{3,2} = \b{6,5}/2; \c{3,3} = \b{6,6};
}

\tikzset{
  inverse={\c,3,\d},
  show={\c,3,3},
  show={\d,3,3},
}

\tikzmath {
  \A = \d{1,1};
  \B = \d{1,2} * 2;
  \C = \d{2,2};
  \D = \d{1,3} * 2;
  \E = \d{2,3} * 2;
  \F = \d{3,3};
  print{The circle equation is $Ax^2+Bxy+Cy^2+Dx+Ey+F=0$, \\};
  print{wherein, A = \A, B = \B, C = \C, D = \D, E = \E, F = \F.\\};
}

\end{document}